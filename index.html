<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الاختبار</title>
    <style>
        body {
            direction: rtl; /* Set the direction to right-to-left */
            text-align: center; /* Center the text */
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .quiz-container {
            max-width: 600px;
            margin: auto;
        }
        .question {
            margin-bottom: 20px;
            text-align: right; /* Align text to the right for readability */
        }
        label {
            display: block; /* Make sure each radio button and its label are on a new line */
            margin: 5px 0;
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>الاختبار</h1>
        <div id="quiz">
            <!-- Question 1 -->
            <div class="question">
                <p>1. ما هي عاصمة فرنسا؟</p>
                <label><input type="radio" name="q1" value="correct"> باريس</label>
                <label><input type="radio" name="q1" value="wrong"> لندن</label>
                <label><input type="radio" name="q1" value="wrong"> برلين</label>
            </div>

            <!-- Question 2 -->
            <div class="question">
                <p>2. كم يساوي ٢ + ٢؟</p>
                <label><input type="radio" name="q2" value="wrong"> ٣</label>
                <label><input type="radio" name="q2" value="correct"> ٤</label>
                <label><input type="radio" name="q2" value="wrong"> ٥</label>
            </div>

            <!-- Question 3 -->
            <div class="question">
                <p>3. من كتب "هاملت"؟</p>
                <label><input type="radio" name="q3" value="correct"> وليم شكسبير</label>
                <label><input type="radio" name="q3" value="wrong"> تشارلز ديكنز</label>
                <label><input type="radio" name="q3" value="wrong"> مارك توين</label>
            </div>

            <!-- Question 4 -->
            <div class="question">
                <p>4. ما هي درجة غليان الماء بالدرجة المئوية؟</p>
                <label><input type="radio" name="q4" value="correct"> ١٠٠°</label>
                <label><input type="radio" name="q4" value="wrong"> ٩٠°</label>
                <label><input type="radio" name="q4" value="wrong"> ١١٠°</label>
            </div>

            <!-- Question 5 -->
            <div class="question">
                <p>5. ما هو الجذر التربيعي للعدد ٩؟</p>
                <label><input type="radio" name="q5" value="correct"> ٣</label>
                <label><input type="radio" name="q5" value="wrong"> ٢</label>
                <label><input type="radio" name="q5" value="wrong"> ٤</label>
            </div>

            <!-- Question 6 -->
            <div class="question">
                <p>6. ما هو أكبر كوكب في نظامنا الشمسي؟</p>
                <label><input type="radio" name="q6" value="correct"> المشتري</label>
                <label><input type="radio" name="q6" value="wrong"> المريخ</label>
                <label><input type="radio" name="q6" value="wrong"> الأرض</label>
            </div>

            <!-- Question 7 -->
            <div class="question">
                <p>7. ما هو الرمز الكيميائي للماء؟</p>
                <label><input type="radio" name="q7" value="correct"> H₂O</label>
                <label><input type="radio" name="q7" value="wrong"> CO₂</label>
                <label><input type="radio" name="q7" value="wrong"> O₂</label>
            </div>

            <!-- Question 8 -->
            <div class="question">
                <p>8. من الذي رسم لوحة الموناليزا؟</p>
                <label><input type="radio" name="q8" value="correct"> ليوناردو دافنشي</label>
                <label><input type="radio" name="q8" value="wrong"> بابلو بيكاسو</label>
                <label><input type="radio" name="q8" value="wrong"> فينسنت فان غوخ</label>
            </div>

            <!-- Question 9 -->
            <div class="question">
                <p>9. ما هو الغاز الأكثر وفرة في الغلاف الجوي للأرض؟</p>
                <label><input type="radio" name="q9" value="correct"> النيتروجين</label>
                <label><input type="radio" name="q9" value="wrong"> الأكسجين</label>
                <label><input type="radio" name="q9" value="wrong"> ثاني أكسيد الكربون</label>
            </div>

            <!-- Question 10 -->
            <div class="question">
                <p>10. كم عدد القارات الموجودة؟</p>
                <label><input type="radio" name="q10" value="correct"> ٧</label>
                <label><input type="radio" name="q10" value="wrong"> ٦</label>
                <label><input type="radio" name="q10" value="wrong"> ٨</label>
            </div>

            <button onclick="submitQuiz()">إرسال</button>
        </div>
    </div>

    <script>
        // This function will run when the page loads from cache (when pressing back button)
        window.addEventListener('pageshow', function(event) {
            if (event.persisted) {
                resetRadioButtons();
            }
            shuffleAnswers();
        });

        // Function to reset radio buttons when the page is loaded from cache
        function resetRadioButtons() {
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.checked = false);
        }

        // Function to shuffle answers for each question
        function shuffleAnswers() {
            const questions = document.querySelectorAll('.question');
            questions.forEach(question => {
                const answers = Array.from(question.querySelectorAll('label'));
                
                // Shuffle the answers
                for (let i = answers.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [answers[i], answers[j]] = [answers[j], answers[i]];
                }
                
                // Append the shuffled answers back to the DOM
                answers.forEach(answer => question.appendChild(answer));
            });
        }

        function submitQuiz() {
            const correctAnswers = document.querySelectorAll('input[type="radio"][value="correct"]:checked').length;
            const totalQuestions = document.querySelectorAll('.question').length;
            const score = (correctAnswers / totalQuestions) * 100;

            // Redirect to the results page with the score as a query parameter
            window.location.href = `results.html?score=${score.toFixed(2)}`;
        }

        // Shuffle the answers when the page is loaded
        window.onload = shuffleAnswers;
    </script>
</body>
</html>
