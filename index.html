<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الاختبار</title>
    <style>
        body {
            direction: rtl; /* Set the direction to right-to-left */
            text-align: center; /* Center the text */
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .quiz-container {
            max-width: 600px;
            margin: auto;
        }
        .question {
            margin-bottom: 20px;
            text-align: right; /* Align text to the right for readability */
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <h1>الاختبار</h1>
        <div id="quiz">
            <!-- Question 1 -->
            <div class="question" data-answers="q1">
                <p>1. ما هي عاصمة فرنسا؟</p>
                <input type="radio" name="q1" value="correct"> باريس<br>
                <input type="radio" name="q1" value="wrong"> لندن<br>
                <input type="radio" name="q1" value="wrong"> برلين<br>
            </div>

            <!-- Question 2 -->
            <div class="question" data-answers="q2">
                <p>2. كم يساوي ٢ + ٢؟</p>
                <input type="radio" name="q2" value="wrong"> ٣<br>
                <input type="radio" name="q2" value="correct"> ٤<br>
                <input type="radio" name="q2" value="wrong"> ٥<br>
            </div>

            <!-- Question 3 -->
            <div class="question" data-answers="q3">
                <p>3. من كتب "هاملت"؟</p>
                <input type="radio" name="q3" value="correct"> وليم شكسبير<br>
                <input type="radio" name="q3" value="wrong"> تشارلز ديكنز<br>
                <input type="radio" name="q3" value="wrong"> مارك توين<br>
            </div>

            <!-- Question 4 -->
            <div class="question" data-answers="q4">
                <p>4. ما هي درجة غليان الماء بالدرجة المئوية؟</p>
                <input type="radio" name="q4" value="correct"> ١٠٠°<br>
                <input type="radio" name="q4" value="wrong"> ٩٠°<br>
                <input type="radio" name="q4" value="wrong"> ١١٠°<br>
            </div>

            <!-- Question 5 -->
            <div class="question" data-answers="q5">
                <p>5. ما هو الجذر التربيعي للعدد ٩؟</p>
                <input type="radio" name="q5" value="correct"> ٣<br>
                <input type="radio" name="q5" value="wrong"> ٢<br>
                <input type="radio" name="q5" value="wrong"> ٤<br>
            </div>

            <!-- Question 6 -->
            <div class="question" data-answers="q6">
                <p>6. ما هو أكبر كوكب في نظامنا الشمسي؟</p>
                <input type="radio" name="q6" value="correct"> المشتري<br>
                <input type="radio" name="q6" value="wrong"> المريخ<br>
                <input type="radio" name="q6" value="wrong"> الأرض<br>
            </div>

            <!-- Question 7 -->
            <div class="question" data-answers="q7">
                <p>7. ما هو الرمز الكيميائي للماء؟</p>
                <input type="radio" name="q7" value="correct"> H₂O<br>
                <input type="radio" name="q7" value="wrong"> CO₂<br>
                <input type="radio" name="q7" value="wrong"> O₂<br>
            </div>

            <!-- Question 8 -->
            <div class="question" data-answers="q8">
                <p>8. من الذي رسم لوحة الموناليزا؟</p>
                <input type="radio" name="q8" value="correct"> ليوناردو دافنشي<br>
                <input type="radio" name="q8" value="wrong"> بابلو بيكاسو<br>
                <input type="radio" name="q8" value="wrong"> فينسنت فان غوخ<br>
            </div>

            <!-- Question 9 -->
            <div class="question" data-answers="q9">
                <p>9. ما هو الغاز الأكثر وفرة في الغلاف الجوي للأرض؟</p>
                <input type="radio" name="q9" value="correct"> النيتروجين<br>
                <input type="radio" name="q9" value="wrong"> الأكسجين<br>
                <input type="radio" name="q9" value="wrong"> ثاني أكسيد الكربون<br>
            </div>

            <!-- Question 10 -->
            <div class="question" data-answers="q10">
                <p>10. كم عدد القارات الموجودة؟</p>
                <input type="radio" name="q10" value="correct"> ٧<br>
                <input type="radio" name="q10" value="wrong"> ٦<br>
                <input type="radio" name="q10" value="wrong"> ٨<br>
            </div>

            <button onclick="submitQuiz()">إرسال</button>
        </div>
    </div>

    <script>
        // This function will run when the page loads from cache (when pressing back button)
        window.addEventListener('pageshow', function(event) {
            if (event.persisted) {
                resetRadioButtons();
            }
            shuffleAnswers();
        });

        // Function to reset radio buttons when the page is loaded from cache
        function resetRadioButtons() {
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.checked = false);
        }

        // Function to shuffle answers for each question
        function shuffleAnswers() {
            const questions = document.querySelectorAll('.question');
            questions.forEach(question => {
                const answers = Array.from(question.querySelectorAll('input[type="radio"]'));
                const labels = Array.from(question.querySelectorAll('br, input'));
                
                // Shuffle the answers
                for (let i = answers.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [answers[i], answers[j]] = [answers[j], answers[i]];
                    [labels[i*2], labels[j*2]] = [labels[j*2], labels[i*2]]; // Shuffle br elements too
                }
                
                // Append the shuffled answers back to the DOM
                answers.forEach(answer => question.appendChild(answer));
                labels.forEach(label => question.appendChild(label));
            });
        }

        function submitQuiz() {
            const correctAnswers = document.querySelectorAll('input[type="radio"][value="correct"]:checked').length;
            const totalQuestions = document.querySelectorAll('.question').length;
            const score = (correctAnswers / totalQuestions) * 100;

            // Redirect to the results page with the score as a query parameter
            window.location.href = `results.html?score=${score.toFixed(2)}`;
        }

        // Shuffle the answers when the page is loaded
        window.onload = shuffleAnswers;
    </script>
</body>
</html>
