<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الاختبار</title>
    <style>
        body {
            direction: rtl; /* Right to left layout */
        }
    </style>
</head>
<body>
    <h1>الاختبار</h1>
    <form id="quizForm">
        <!-- Question 1 -->
        <div>
            <h3>1. القهوة المختصة تشير إلى القهوة التي تحصل على تقييم 70 نقطة أو أكثر على مقياس من 100 نقطة من مُقيم معتمد</h3>
            <label><input type="radio" name="q1" value="صحيح"> صحيح</label><br>
            <label><input type="radio" name="q1" value="غير صحيح"> غير صحيح</label><br>
        </div>

        <!-- Question 2 -->
        <div>
            <h3>2. هل العبارة التالية صحيحة ام خاطئة؟ "القهوة هي احد أكثر السلع تداوًال في العالم، حيث تأتي في المرتبة الثانية بعد النفط الخام."</h3>
            <label><input type="radio" name="q2" value="صحيحة"> صحيحة</label><br>
            <label><input type="radio" name="q2" value="خاطئة"> خاطئة</label><br>
        </div>

        <!-- Question 3 -->
        <div>
            <h3>3. اي من المعالجات التالية قد نحصل على عمر افتراضي اطول لها بعد الحمص؟</h3>
            <label><input type="radio" name="q3" value="المعالجة المجففة"> المعالجة المجففة</label><br>
            <label><input type="radio" name="q3" value="المعالجة المغسولة"> المعالجة المغسولة</label><br>
            <label><input type="radio" name="q3" value="المعالجة العسلية"> المعالجة العسلية</label><br>
        </div>

        <!-- Question 4 -->
        <div>
            <h3>4. المعالجة العسلية السوداء يتم تجفيفها لمدة تصل الى</h3>
            <label><input type="radio" name="q4" value="١٥ يوم"> ١٥ يوم</label><br>
            <label><input type="radio" name="q4" value="٢٠ يوم"> ٢٠ يوم</label><br>
            <label><input type="radio" name="q4" value="٣٠ يوم"> ٣٠ يوم</label><br>
        </div>

        <!-- Question 5 -->
        <div>
            <h3>5. جهاز الـDepulper يتم استخدامه لـ</h3>
            <label><input type="radio" name="q5" value="زالة الطبقة الهلامية من كرزة البن"> ازالة الطبقة الهلامية من كرزة البن</label><br>
            <label><input type="radio" name="q5" value="ازالة القشرة الخارجية من كرزة البن"> ازالة القشرة الخارجية من كرزة البن</label><br>
            <label><input type="radio" name="q5" value="غسل كرزة البن"> غسل كرزة البن</label><br>
        </div>

        <!-- Question 6 -->
        <div>
            <h3>6. للحفاظ على القهوة لمدة اطول ينصح بتخزينها بمكان بارد مثل داخل الثلاجة</h3>
            <label><input type="radio" name="q6" value="ينصح بذلك"> ينصح بذلك</label><br>
            <label><input type="radio" name="q6" value="لا ينصح بذلك"> لا ينصح بذلك</label><br>
        </div>

        <!-- Question 7 -->
        <div>
            <h3>7. ماهي فصيلة القهوة اللي تحتوي على قدر اعلى من الكافيين؟</h3>
            <label><input type="radio" name="q7" value="ارابيكا"> ارابيكا</label><br>
            <label><input type="radio" name="q7" value="روبستا"> روبستا</label><br>
        </div>

        <!-- Question 8 -->
        <div>
            <h3>8. اي من طرق التحضير التالية تبقى القهوة على تواصل مع جميع الماء طوال فترة التحضير؟</h3>
            <label><input type="radio" name="q8" value="الاسبريسو"> الاسبريسو</label><br>
            <label><input type="radio" name="q8" value="الغمر الكلي"> الغمر الكلي</label><br>
            <label><input type="radio" name="q8" value="التقطير/الترشيح"> التقطير/الترشيح</label><br>
        </div>

        <!-- Question 9 -->
        <div>
            <h3>9. اي من فصائل القهوة التالية تعتبر معرضة اكثر للامراض وحصادها اقل؟</h3>
            <label><input type="radio" name="q9" value="ارابيكا"> ارابيكا</label><br>
            <label><input type="radio" name="q9" value="روبستا"> روبستا</label><br>
        </div>

        <!-- Question 10 -->
        <div>
            <h3>10. نسبة الرطوبة المطلوبة بعد عملية المعالجة تكون من...</h3>
            <label><input type="radio" name="q10" value="١٢٪ الى ١٣٪"> ١٢٪ الى ١٣٪</label><br>
            <label><input type="radio" name="q10" value="١٣٪ الى ١٥٪"> ١٣٪ الى ١٥٪</label><br>
            <label><input type="radio" name="q10" value="١٠٪ الى ١٥٪"> ١٠٪ الى ١٥٪</label><br>
        </div>

        <button type="submit" style="font-size: 18px; padding: 15px 30px; margin-top: 20px;">إرسال الإجابات</button>
    </form>

    <script>
        // Capture the user's answers and redirect to the results page
        document.getElementById('quizForm').onsubmit = function (e) {
            e.preventDefault();

            // Get the selected answers from the form
            const formData = new FormData(this);
            const answers = {};
            formData.forEach((value, key) => {
                answers[key] = value;
            });

            // Calculate score based on answers
            let correctAnswers = 0;
            const correctAnswerKey = {
                q1: 'غير صحيح',
                q2: 'صحيحة',
                q3: 'المعالجة المجففة',
                q4: '٣٠ يوم',
                q5: 'ازالة القشرة الخارجية من كرزة البن',
                q6: 'لا ينصح بذلك',
                q7: 'روبستا',
                q8: 'الغمر الكلي',
                q9: 'ارابيكا',
                q10: '١٢٪ الى ١٣٪'
            };

            // Calculate the score
            for (let key in answers) {
                if (answers[key] === correctAnswerKey[key]) {
                    correctAnswers++;
                }
            }

            // Calculate the percentage score
            const totalQuestions = 10;
            const score = (correctAnswers / totalQuestions) * 100;

            // Convert the answers to a URL-encoded string to pass via URL
            const encodedAnswers = encodeURIComponent(JSON.stringify(answers));

            // Redirect to the results page with the answers and score
            window.location.href = `results.html?answers=${encodedAnswers}&score=${score.toFixed(2)}`;
        }

        // Reset the radio buttons when the page is reloaded or user goes back
        window.onload = function() {
            document.getElementById('quizForm').reset();
        };
    </script>
</body>
</html>
